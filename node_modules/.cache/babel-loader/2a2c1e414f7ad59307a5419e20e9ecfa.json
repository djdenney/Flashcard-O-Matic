{"ast":null,"code":"var _jsxFileName = \"/Users/danieldenney/Thinkful/Qualified/Project_Flashcards_Qualified_1/src/Deck.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Link, useParams, useHistory } from \"react-router-dom\";\nimport { readDeck, listCards, deleteDeck, deleteCard } from \"./utils/api/index\";\n/**\n * \n * @returns \n */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Deck() {\n  _s();\n\n  const history = useHistory();\n  const {\n    deckId\n  } = useParams();\n  const [deck, setDeck] = useState({});\n  const [cards, setCards] = useState([]);\n  useEffect(() => {\n    async function fetchData() {\n      const abortController = new AbortController();\n\n      try {\n        const deckResponse = await readDeck(deckId, abortController.signal);\n        const cardsResponse = await listCards(deckId, abortController.signal);\n        setDeck(deckResponse);\n        setCards(cardsResponse);\n      } catch (error) {\n        console.error('Something went wrong', error);\n      }\n\n      return () => {\n        abortController.abort();\n      };\n    }\n\n    fetchData();\n  }, []);\n\n  async function handleDeleteDeck(deck) {\n    if (window.confirm(`Delete this deck? You will not be able to recover it`)) {\n      const abortController = new AbortController();\n      history.push(\"/\");\n      cards.map(card => {\n        handleDeleteCard(card, true);\n      });\n      return await deleteDeck(deck.id, abortController.signal);\n    }\n  }\n\n  async function handleDeleteCard(card, deleteDeck) {\n    if (deleteDeck) {\n      return await deleteCard(card.id);\n    } else {\n      if (window.confirm(`Delete this card? You will not be able to recover it`)) {\n        const abortController = new AbortController();\n        history.go(0);\n        return await deleteCard(card.id, abortController.signal);\n      }\n    }\n  }\n\n  async function handleEditDeck() {\n    history.push(`/decks/${deckId}/edit`);\n  }\n\n  async function handleStudy() {\n    history.push(`/decks/${deckId}/study`);\n  }\n\n  async function handleAddCard() {\n    history.push(`/decks/${deckId}/cards/new`);\n  }\n\n  async function handleEditCard(card) {\n    history.push(`/decks/${deckId}/cards/${card.id}/edit`);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"ol\", {\n      className: \"breadcrumb\",\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"breadcrumb-item\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: \"Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 49\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"breadcrumb-item active\",\n        children: deck.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"card-title\",\n          children: deck.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: deck.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleEditDeck(),\n          className: \"btn btn-secondary\",\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleStudy(),\n          className: \"btn btn-primary\",\n          children: \"Study\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleAddCard(),\n          className: \"btn btn-primary\",\n          children: \"Add Cards\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleDeleteDeck(deck),\n          className: \"btn btn-danger\",\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Cards\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this), cards.map(card => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-deck\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col\",\n                children: card.front\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col\",\n                children: card.back\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"container row\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleEditCard(card),\n                className: \"btn btn-secondary\",\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDeleteCard(card),\n                className: \"btn btn-danger\",\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 25\n        }, this)\n      }, card.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Deck, \"9KU6TeWw22kcYm1Wg1jqOQAQf/c=\", false, function () {\n  return [useHistory, useParams];\n});\n\n_c = Deck;\nexport default Deck;\n\nvar _c;\n\n$RefreshReg$(_c, \"Deck\");","map":{"version":3,"sources":["/Users/danieldenney/Thinkful/Qualified/Project_Flashcards_Qualified_1/src/Deck.js"],"names":["React","useState","useEffect","Link","useParams","useHistory","readDeck","listCards","deleteDeck","deleteCard","Deck","history","deckId","deck","setDeck","cards","setCards","fetchData","abortController","AbortController","deckResponse","signal","cardsResponse","error","console","abort","handleDeleteDeck","window","confirm","push","map","card","handleDeleteCard","id","go","handleEditDeck","handleStudy","handleAddCard","handleEditCard","name","description","front","back"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\"\nimport { Link, useParams, useHistory } from \"react-router-dom\"\nimport { readDeck, listCards, deleteDeck, deleteCard } from \"./utils/api/index\"\n\n/**\n * \n * @returns \n */\nfunction Deck () {\n    const history = useHistory()\n    const {deckId} = useParams()\n    const [deck, setDeck] = useState({})\n    const [cards, setCards] = useState([])\n\n    useEffect (() => {\n        async function fetchData() {\n            const abortController = new AbortController()\n            try {\n                const deckResponse = await readDeck(deckId, abortController.signal)\n                const cardsResponse = await listCards(deckId, abortController.signal)\n                setDeck(deckResponse)\n                setCards(cardsResponse)\n            } catch (error) {\n                console.error('Something went wrong', error)\n            }\n            return() => {\n                abortController.abort()\n            }\n        }\n        fetchData()\n    }, [])\n\n    async function handleDeleteDeck(deck) {\n        if (window.confirm(`Delete this deck? You will not be able to recover it`)) {\n            const abortController = new AbortController()\n            history.push(\"/\")\n            cards.map((card) => {\n                handleDeleteCard(card, true)\n            })\n            return await deleteDeck(deck.id, abortController.signal)\n        }\n    }\n\n    async function handleDeleteCard(card, deleteDeck) {\n        if (deleteDeck) {\n            return await deleteCard(card.id)\n        } else {\n            if (window.confirm(`Delete this card? You will not be able to recover it`)) {\n                const abortController = new AbortController()\n                history.go(0)\n                return await deleteCard(card.id, abortController.signal)\n            }\n        }            \n    }\n\n    async function handleEditDeck() {\n        history.push(`/decks/${deckId}/edit`)\n    }\n\n    async function handleStudy() {\n        history.push(`/decks/${deckId}/study`)\n    }\n\n    async function handleAddCard() {\n        history.push(`/decks/${deckId}/cards/new`)\n    }\n\n    async function handleEditCard(card) {\n        history.push(`/decks/${deckId}/cards/${card.id}/edit`)\n    }\n\n    return (\n        <div>\n            <ol className=\"breadcrumb\">\n                <li className=\"breadcrumb-item\"><Link to=\"/\">Home</Link></li>\n                <li className=\"breadcrumb-item active\">{deck.name}</li>\n            </ol>\n            <div className=\"card\">\n                <div className=\"card-body\">\n                    <h2 className=\"card-title\">\n                        {deck.name}\n                    </h2>\n                    <p>\n                        {deck.description}\n                    </p>\n                    <button  onClick={() => handleEditDeck()} className=\"btn btn-secondary\">\n                        Edit\n                    </button>\n                    <button onClick={() => handleStudy()} className=\"btn btn-primary\">\n                        Study\n                    </button>\n                    <button onClick={() => handleAddCard()}className=\"btn btn-primary\">\n                        Add Cards\n                    </button>\n                    <button onClick={() => handleDeleteDeck(deck)} className=\"btn btn-danger\">\n                        Delete\n                    </button>\n                </div>\n            </div>\n            <h1>\n                Cards\n            </h1>\n            {cards.map((card) => {\n                return (\n                    <div className=\"card-deck\" key={card.id}>\n                        <div className=\"card\">\n                            <div className=\"card-body\">\n                                <div className=\"row\">\n                                    <div className=\"col\">\n                                        {card.front}\n                                    </div>\n                                    <div className=\"col\">\n                                        {card.back}\n                                    </div>\n                                </div>\n                                <div className=\"container row\">\n                                    <button onClick={() => handleEditCard(card)} className=\"btn btn-secondary\">\n                                        Edit\n                                    </button>\n                                    <button onClick={() => handleDeleteCard(card)} className=\"btn btn-danger\">\n                                        Delete\n                                    </button>\n                                </div>\n                            </div>                                \n                        </div>\n                    </div>\n                )\n            })}\n        </div>\n    )\n}\n\nexport default Deck"]},"metadata":{},"sourceType":"module"}