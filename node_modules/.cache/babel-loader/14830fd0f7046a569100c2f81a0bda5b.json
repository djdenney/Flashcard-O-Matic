{"ast":null,"code":"import _regeneratorRuntime from\"/Users/danieldenney/Thinkful/Qualified/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/danieldenney/Thinkful/Qualified/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/danieldenney/Thinkful/Qualified/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Link,useParams,useHistory}from\"react-router-dom\";import{readDeck,deleteDeck,deleteCard}from\"./utils/api/index\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Deck(){var history=useHistory();var _useParams=useParams(),deckId=_useParams.deckId;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),deck=_useState2[0],setDeck=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),cards=_useState4[0],setCards=_useState4[1];useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var abortController,deckResponse;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:abortController=new AbortController();_context.prev=1;_context.next=4;return readDeck(deckId,abortController.signal);case 4:deckResponse=_context.sent;setDeck(deckResponse);setCards(deckResponse.cards);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.error('Something went wrong',_context.t0);case 12:return _context.abrupt(\"return\",function(){abortController.abort();});case 13:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return _fetchData.apply(this,arguments);}fetchData();},[]);function handleDeleteDeck(_x){return _handleDeleteDeck.apply(this,arguments);}function _handleDeleteDeck(){_handleDeleteDeck=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(deck){var abortController;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!window.confirm(\"Delete this deck? You will not be able to recover it\")){_context2.next=13;break;}abortController=new AbortController();_context2.prev=2;history.push(\"/\");_context2.next=6;return deleteDeck(deck.id,abortController.signal);case 6:return _context2.abrupt(\"return\",_context2.sent);case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](2);console.error('Something went wrong',_context2.t0);case 12:return _context2.abrupt(\"return\",function(){abortController.abort();});case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[2,9]]);}));return _handleDeleteDeck.apply(this,arguments);}function handleDeleteCard(_x2){return _handleDeleteCard.apply(this,arguments);}function _handleDeleteCard(){_handleDeleteCard=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(card){var abortController;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!window.confirm(\"Delete this card? You will not be able to recover it\")){_context3.next=13;break;}abortController=new AbortController();_context3.prev=2;history.go(0);_context3.next=6;return deleteCard(card.id,abortController.signal);case 6:return _context3.abrupt(\"return\",_context3.sent);case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](2);console.error('Something went wrong',_context3.t0);case 12:return _context3.abrupt(\"return\",function(){abortController.abort();});case 13:case\"end\":return _context3.stop();}}},_callee3,null,[[2,9]]);}));return _handleDeleteCard.apply(this,arguments);}function handleEditDeck(){return _handleEditDeck.apply(this,arguments);}function _handleEditDeck(){_handleEditDeck=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:history.push(\"/decks/\".concat(deckId,\"/edit\"));case 1:case\"end\":return _context4.stop();}}},_callee4);}));return _handleEditDeck.apply(this,arguments);}function handleStudy(){return _handleStudy.apply(this,arguments);}function _handleStudy(){_handleStudy=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:history.push(\"/decks/\".concat(deckId,\"/study\"));case 1:case\"end\":return _context5.stop();}}},_callee5);}));return _handleStudy.apply(this,arguments);}function handleAddCard(){return _handleAddCard.apply(this,arguments);}function _handleAddCard(){_handleAddCard=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:history.push(\"/decks/\".concat(deckId,\"/cards/new\"));case 1:case\"end\":return _context6.stop();}}},_callee6);}));return _handleAddCard.apply(this,arguments);}function handleEditCard(_x3){return _handleEditCard.apply(this,arguments);}function _handleEditCard(){_handleEditCard=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(card){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:history.push(\"/decks/\".concat(deckId,\"/cards/\").concat(card.id,\"/edit\"));case 1:case\"end\":return _context7.stop();}}},_callee7);}));return _handleEditCard.apply(this,arguments);}if(cards.length>0){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"ol\",{className:\"breadcrumb\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item active\",children:deck.name})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"card-title\",children:deck.name}),/*#__PURE__*/_jsx(\"p\",{children:deck.description}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleEditDeck();},className:\"btn btn-secondary mx-1\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleStudy();},className:\"btn btn-primary mx-1\",children:\"Study\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleAddCard();},className:\"btn btn-primary mx-1\",children:\"Add Cards\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleDeleteDeck(deck);},className:\"btn btn-danger mx-1\",children:\"Delete\"})]})}),/*#__PURE__*/_jsx(\"h1\",{children:\"Cards\"}),cards.map(function(card){return/*#__PURE__*/_jsx(\"div\",{className:\"card-deck\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:card.front}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:card.back})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container row\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleEditCard(card);},className:\"btn btn-secondary mx-1\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleDeleteCard(card);},className:\"btn btn-danger mx-1\",children:\"Delete\"})]})]})})},card.id);})]});}else{return null;}}export default Deck;","map":{"version":3,"sources":["/Users/danieldenney/Thinkful/Qualified/Project_Flashcards_Qualified_1/src/Deck.js"],"names":["React","useState","useEffect","Link","useParams","useHistory","readDeck","deleteDeck","deleteCard","Deck","history","deckId","deck","setDeck","cards","setCards","fetchData","abortController","AbortController","signal","deckResponse","console","error","abort","handleDeleteDeck","window","confirm","push","id","handleDeleteCard","card","go","handleEditDeck","handleStudy","handleAddCard","handleEditCard","length","name","description","map","front","back"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\"\nimport { Link, useParams, useHistory } from \"react-router-dom\"\nimport { readDeck, deleteDeck, deleteCard } from \"./utils/api/index\"\n\nfunction Deck () {\n    const history = useHistory()\n    const {deckId} = useParams()\n    const [deck, setDeck] = useState({})\n    const [cards, setCards] = useState([])\n\n    useEffect (() => {\n        async function fetchData() {\n            const abortController = new AbortController()\n            try {\n                const deckResponse = await readDeck(deckId, abortController.signal)\n                setDeck(deckResponse)\n                setCards(deckResponse.cards)\n            } catch (error) {\n                console.error('Something went wrong', error)\n            }\n            return() => {\n                abortController.abort()\n            }\n        }\n        fetchData()\n    }, [])\n\n    async function handleDeleteDeck(deck) {\n        if (window.confirm(`Delete this deck? You will not be able to recover it`)) {\n            const abortController = new AbortController()\n            try {\n                history.push(\"/\")\n                return await deleteDeck(deck.id, abortController.signal)\n            } catch (error) {\n                console.error('Something went wrong', error)\n            }\n            return() => {\n                abortController.abort()\n            }\n        }\n    }\n\n    async function handleDeleteCard(card) {\n        if (window.confirm(`Delete this card? You will not be able to recover it`)) {\n            const abortController = new AbortController()\n            try {\n                history.go(0)\n                return await deleteCard(card.id, abortController.signal)\n            } catch (error) {\n                console.error('Something went wrong', error)\n            }\n            return() => {\n                abortController.abort()\n            }\n        }     \n    }\n\n    async function handleEditDeck() {\n        history.push(`/decks/${deckId}/edit`)\n    }\n\n    async function handleStudy() {\n        history.push(`/decks/${deckId}/study`)\n    }\n\n    async function handleAddCard() {\n        history.push(`/decks/${deckId}/cards/new`)\n    }\n\n    async function handleEditCard(card) {\n        history.push(`/decks/${deckId}/cards/${card.id}/edit`)\n    }\n\n    if (cards.length > 0) {\n        return (\n            <div>\n                <ol className=\"breadcrumb\">\n                    <li className=\"breadcrumb-item\">\n                        <Link to=\"/\">\n                            Home\n                        </Link>\n                    </li>\n                    <li className=\"breadcrumb-item active\">\n                        {deck.name}\n                    </li>\n                </ol>\n                <div className=\"card\">\n                    <div className=\"card-body\">\n                        <h2 className=\"card-title\">\n                            {deck.name}\n                        </h2>\n                        <p>\n                            {deck.description}\n                        </p>\n                        <button onClick={() => handleEditDeck()} className=\"btn btn-secondary mx-1\">\n                            Edit\n                        </button>\n                        <button onClick={() => handleStudy()} className=\"btn btn-primary mx-1\">\n                            Study\n                        </button>\n                        <button onClick={() => handleAddCard()}className=\"btn btn-primary mx-1\">\n                            Add Cards\n                        </button>\n                        <button onClick={() => handleDeleteDeck(deck)} className=\"btn btn-danger mx-1\">\n                            Delete\n                        </button>\n                    </div>\n                </div>\n                <h1>\n                    Cards\n                </h1>\n                {cards.map((card) => {\n                    return (\n                        <div className=\"card-deck\" key={card.id}>\n                            <div className=\"card\">\n                                <div className=\"card-body\">\n                                    <div className=\"row\">\n                                        <div className=\"col\">\n                                            {card.front}\n                                        </div>\n                                        <div className=\"col\">\n                                            {card.back}\n                                        </div>\n                                    </div>\n                                    <div className=\"container row\">\n                                        <button onClick={() => handleEditCard(card)} className=\"btn btn-secondary mx-1\">\n                                            Edit\n                                        </button>\n                                        <button onClick={() => handleDeleteCard(card)} className=\"btn btn-danger mx-1\">\n                                            Delete\n                                        </button>\n                                    </div>\n                                </div>                                \n                            </div>\n                        </div>\n                    )\n                })}\n            </div>\n        )\n    } else {\n        return (null)\n    }\n}\n\nexport default Deck"]},"metadata":{},"sourceType":"module"}