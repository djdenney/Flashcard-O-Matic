{"ast":null,"code":"import _regeneratorRuntime from\"/Users/danieldenney/Thinkful/Qualified/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/danieldenney/Thinkful/Qualified/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/danieldenney/Thinkful/Qualified/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Link,useParams,useHistory}from\"react-router-dom\";import{readDeck}from\"./utils/api/index\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Study(){var _useParams=useParams(),deckId=_useParams.deckId;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),deck=_useState2[0],setDeck=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),cards=_useState4[0],setCards=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),cardNumber=_useState6[0],setCardNumber=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),front=_useState8[0],isFront=_useState8[1];var history=useHistory();useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var abortController,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:abortController=new AbortController();_context.next=3;return readDeck(deckId,abortController.signal);case 3:response=_context.sent;setDeck(response);setCards(response.cards);return _context.abrupt(\"return\",function(){abortController.abort();});case 7:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);function nextCard(index,total){console.log(index);if(index<total){setCardNumber(cardNumber+1);isFront(true);}else{if(window.confirm(\"Restart cards? Click 'cancel' to return to the home page\")){setCardNumber(1);isFront(true);}else{history.push(\"/\");}}}function flipCard(){if(front){isFront(false);}else{isFront(true);}}function showNextButton(cards,index){if(front){return null;}else{return/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return nextCard(index+1,cards.length);},className:\"btn btn-primary mx-1\",children:\"Next\"});}}function enoughCards(){return/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:cards.map(function(card,index){if(index===cardNumber-1){return/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-title\",children:\"Card \".concat(index+1,\" of \").concat(cards.length)}),/*#__PURE__*/_jsx(\"div\",{className:\"card-text\",children:front?card.front:card.back}),/*#__PURE__*/_jsx(\"button\",{onClick:flipCard,className:\"btn btn-secondary mx-1\",children:\"Flip\"}),showNextButton(cards,index)]},card.id);}})});}function notEnoughCards(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Not enough cards.\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"You need at least 3 cards to study. There are \",cards.length,\" cards in this deck.\"]}),/*#__PURE__*/_jsx(Link,{to:\"/decks/\".concat(deck.id,\"/cards/new\"),className:\"btn btn-primary mx-1\",children:\"Add Cards\"})]});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"ol\",{className:\"breadcrumb\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/decks/\".concat(deckId),children:deck.name})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item active\",children:\"Study\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\".concat(deck.name,\": Study\")}),/*#__PURE__*/_jsx(\"div\",{children:cards.length===0?notEnoughCards():cards.length>2?enoughCards():notEnoughCards()})]})]});}export default Study;","map":{"version":3,"sources":["/Users/danieldenney/Thinkful/Qualified/Project_Flashcards_Qualified_1/src/Study.js"],"names":["React","useEffect","useState","Link","useParams","useHistory","readDeck","Study","deckId","deck","setDeck","cards","setCards","cardNumber","setCardNumber","front","isFront","history","fetchData","abortController","AbortController","signal","response","abort","nextCard","index","total","console","log","window","confirm","push","flipCard","showNextButton","length","enoughCards","map","card","back","id","notEnoughCards","name"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport { Link, useParams, useHistory } from \"react-router-dom\"\nimport { readDeck } from \"./utils/api/index\"\n\n\nfunction Study () {\n    const {deckId} = useParams()\n    const [deck, setDeck] = useState({})\n    const [cards, setCards] = useState([])\n    const [cardNumber, setCardNumber] = useState(1)\n    const [front, isFront] = useState(true)\n    const history = useHistory()\n\n    useEffect (() => {\n        async function fetchData() {\n            const abortController = new AbortController()\n            const response = await readDeck(deckId, abortController.signal)\n            setDeck(response)\n            setCards(response.cards)\n            return() => {\n                abortController.abort()\n            }\n        }\n        fetchData()\n    }, [])\n\n    function nextCard(index, total) {\n        console.log(index)\n        if (index < total) {\n            setCardNumber(cardNumber + 1)\n            isFront(true)\n        } else {\n            if (window.confirm(`Restart cards? Click 'cancel' to return to the home page`)) {\n                setCardNumber(1)\n                isFront(true)\n            } else {\n                history.push(\"/\")\n            }\n        }\n    }\n\n    function flipCard() {\n        if (front) {\n            isFront(false)\n        } else {\n            isFront(true)\n        }\n    }\n\n    function showNextButton(cards, index) {\n        if (front) {\n            return null\n        } else {\n            return (\n                <button onClick={() => nextCard(index + 1, cards.length)} className=\"btn btn-primary mx-1\">\n                    Next\n                </button>\n            )\n        }\n    }\n\n    function enoughCards() {\n        return (\n            <div className=\"card\">\n                {cards.map((card, index) => {\n                    if (index === cardNumber - 1) {\n                        return (\n                            <div className=\"card-body\" key={card.id}>\n                                <div className=\"card-title\">\n                                    {`Card ${index + 1} of ${cards.length}`}\n                                </div>\n                                <div className=\"card-text\">\n                                    {front ? card.front : card.back}\n                                </div>\n                                <button onClick={flipCard} className=\"btn btn-secondary mx-1\">\n                                    Flip\n                                </button>\n                                {showNextButton(cards, index)}\n                            </div>\n                        )\n                    }\n                })}\n            </div>\n        )\n    }\n\n    function notEnoughCards() {\n        return (\n            <div>\n                <h2>\n                    Not enough cards.\n                </h2>\n                <p>\n                    You need at least 3 cards to study. There are {cards.length} cards in this deck.\n                </p>\n                <Link to={`/decks/${deck.id}/cards/new`} className=\"btn btn-primary mx-1\">\n                    Add Cards\n                </Link>\n            </div>\n        )\n    }\n\n    return (\n        <div>\n            <ol className=\"breadcrumb\">\n                <li className=\"breadcrumb-item\">\n                    <Link to=\"/\">\n                        Home\n                    </Link>\n                </li>\n                <li className=\"breadcrumb-item\">\n                    <Link to={`/decks/${deckId}`}>\n                        {deck.name}\n                    </Link>\n                </li>\n                <li className=\"breadcrumb-item active\">\n                    Study\n                </li>\n            </ol>\n            <div>\n                <h2>\n                    {`${deck.name}: Study`}\n                </h2>\n                <div>\n                    {cards.length === 0 ? notEnoughCards() : cards.length > 2 ? enoughCards() : notEnoughCards()}\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Study"]},"metadata":{},"sourceType":"module"}