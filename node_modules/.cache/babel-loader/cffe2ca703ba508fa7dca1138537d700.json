{"ast":null,"code":"import _defineProperty from\"/Users/danieldenney/Thinkful/Qualified/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/danieldenney/Thinkful/Qualified/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/danieldenney/Thinkful/Qualified/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/danieldenney/Thinkful/Qualified/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/danieldenney/Thinkful/Qualified/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Link,useParams,useHistory}from\"react-router-dom\";import{readDeck,updateDeck}from\"./utils/api/index\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditDeck(){var _useParams=useParams(),deckId=_useParams.deckId;var history=useHistory();var initialDeckState={id:\"\",name:\"\",description:\"\"};var _useState=useState(initialDeckState),_useState2=_slicedToArray(_useState,2),deck=_useState2[0],setDeck=_useState2[1];useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var abortController,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:abortController=new AbortController();_context.prev=1;_context.next=4;return readDeck(deckId,abortController.signal);case 4:response=_context.sent;setDeck(response);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.error('Something went wrong',_context.t0);case 11:return _context.abrupt(\"return\",function(){abortController.abort();});case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return _fetchData.apply(this,arguments);}fetchData();},[]);function handleChange(_ref){var target=_ref.target;setDeck(_objectSpread(_objectSpread({},deck),{},_defineProperty({},target.name,target.value)));}function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var abortController,response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();abortController=new AbortController();_context2.next=4;return updateDeck(_objectSpread({},deck),abortController.signal);case 4:response=_context2.sent;history.push(\"/decks/\".concat(deckId));return _context2.abrupt(\"return\",response);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return _handleSubmit.apply(this,arguments);}function handleCancel(){return _handleCancel.apply(this,arguments);}function _handleCancel(){_handleCancel=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:history.push(\"/decks/\".concat(deckId));case 1:case\"end\":return _context3.stop();}}},_callee3);}));return _handleCancel.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"ol\",{className:\"breadcrumb\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/decks/\".concat(deckId),children:deck.name})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item active\",children:\"Edit Deck\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Edit Deck\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{id:\"name\",name:\"name\",className:\"form-control\",onChange:handleChange,type:\"text\",value:deck.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",name:\"description\",className:\"form-control\",onChange:handleChange,type:\"text\",value:deck.description})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary mx-1\",onClick:function onClick(){return handleCancel();},children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary mx-1\",type:\"submit\",children:\"Submit\"})]})]});}export default EditDeck;","map":{"version":3,"sources":["/Users/danieldenney/Thinkful/Qualified/Project_Flashcards_Qualified_1/src/EditDeck.js"],"names":["React","useState","useEffect","Link","useParams","useHistory","readDeck","updateDeck","EditDeck","deckId","history","initialDeckState","id","name","description","deck","setDeck","fetchData","abortController","AbortController","signal","response","console","error","abort","handleChange","target","value","handleSubmit","event","preventDefault","push","handleCancel"],"mappings":"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","sourcesContent":["import React, { useState, useEffect }from \"react\"\nimport { Link, useParams, useHistory } from \"react-router-dom\"\nimport { readDeck, updateDeck } from \"./utils/api/index\"\n\nfunction EditDeck () {\n    const {deckId} = useParams()\n    const history = useHistory()\n    const initialDeckState = {\n        id: \"\",\n        name: \"\",\n        description: \"\"\n    }\n    const [deck, setDeck] = useState(initialDeckState)\n\n    useEffect(() => {\n        async function fetchData() {\n            const abortController = new AbortController()\n            try {\n                const response = await readDeck(deckId, abortController.signal)\n                setDeck(response)\n            } catch (error) {\n                console.error('Something went wrong', error)\n            }\n            return() => {\n                abortController.abort()\n            }\n        }\n        fetchData()\n    }, [])\n\n    \n    function handleChange({target}) {\n        setDeck({\n            ...deck,\n            [target.name]: target.value\n        })\n    }\n\n    async function handleSubmit(event) {\n        event.preventDefault()\n        const abortController = new AbortController()\n        const response = await updateDeck({...deck}, abortController.signal)\n        history.push(`/decks/${deckId}`)\n        return response\n    }\n\n    async function handleCancel() {\n        history.push(`/decks/${deckId}`)\n    }\n\n\n    return (\n        <div>\n            <ol className=\"breadcrumb\">\n                <li className=\"breadcrumb-item\">\n                    <Link to=\"/\">\n                        Home\n                    </Link>\n                </li>\n                <li className=\"breadcrumb-item\">\n                    <Link to={`/decks/${deckId}`}>\n                        {deck.name}\n                    </Link>\n                </li>\n                <li className=\"breadcrumb-item active\">\n                    Edit Deck\n                </li>\n            </ol>\n            <form onSubmit={handleSubmit}>\n                <h1>\n                    Edit Deck\n                </h1>\n                <div className=\"form-group\">\n                    <label>\n                        Name\n                    </label>\n                    <input \n                        id=\"name\"\n                        name=\"name\"\n                        className=\"form-control\"\n                        onChange={handleChange} \n                        type=\"text\"\n                        value={deck.name}\n                    />\n                </div>\n                <div className=\"form-group\">\n                    <label>\n                        Description\n                    </label>\n                    <textarea \n                        id=\"description\"\n                        name=\"description\"\n                        className=\"form-control\"\n                        onChange={handleChange} \n                        type=\"text\"\n                        value={deck.description}\n                    />\n                </div>\n                <button className=\"btn btn-secondary mx-1\" onClick={() => handleCancel()}>\n                    Cancel\n                </button>\n                <button className=\"btn btn-primary mx-1\" type=\"submit\">\n                    Submit\n                </button>\n            </form>\n        </div>\n    )\n}\n\nexport default EditDeck"]},"metadata":{},"sourceType":"module"}